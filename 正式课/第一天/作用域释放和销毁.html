<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    /*
    *  作用域销毁和释放问题 【垃圾回收机制】
    *    1  如果让一个堆内存释放掉那么就让这个堆内存没有被其他变量引用，如果函数在执行后，函数体内的某一部分被函数体外占用，那么我们运行后返回的堆内存和运行时产生的作用域（栈内存）都不会被释放掉，如果没有被占用，浏览器会主动回收内存空间，
    *    2  函数运行的时候，在函数体内定义的【匿名函数】赋值给函数体外的dom元素的事件属性，内存也不会被释放掉。
    *    3  函数运行之后留下来的返回值是一个函数，立刻又被执行一次，这样是【不会被立刻释放掉】。
    *
    *
    *   引用数据类型：   声明的变量指向我们的堆内存
    *
    *
    *
    *
    *
    *
    * */
    //setTimeout   异步  就算是0也有延迟     异步会在同步之后执行
   /* var num = 0;
    setTimeout(function(){
        console.log(10000);
    },0);
    for(var i=0;i<10;i++){
        console.log(100);        //结果      10个100  (30行)
                                  //         10000     (27行)
    }*/

    var num = 0;
    ( function(num){
        setTimeout(function(){
            console.log(num);
        },0);})(num);
    for(var i=0;i<5;i++){
        num++;
        console.log(num);
    }                            //结果     1,2,3,4,5 (40行)
                                 //          0     (37行)
</script>
</body>
</html>